!function(t){"use strict";t.fn.multipleFilterMasonry=function(e){var i=[],n=[];"list"===e.selectorType&&t(e.filtersGroupSelector).children().each(function(){n.push(t(this).data("filter"))});var r=function(n){n.find(e.itemSelector).each(function(){i.push(t(this))}),n.masonry(e)},s=function(e){var n=[];return t(i).each(function(r){t(e).each(function(e,s){i[r].is(s)&&-1===t.inArray(i[r],n)&&n.push(i[r])})}),n},o=function(e,i){e.empty(),t(i).each(function(){t(e).append(t(this))}),e.masonry("reloadItems"),e.masonry()},a=function(e){var i=window.location.hash.replace("#","");-1!==t.inArray(i,n)&&o(e,t("."+i))},l=function(n){t(e.filtersGroupSelector).find("input[type=checkbox]").each(function(){t(this).change(function(){var r=[];t(e.filtersGroupSelector).find("input[type=checkbox]").each(function(){t(this).is(":checked")&&r.push("."+t(this).val())});var a=i;r.length>0&&(a=s(r)),o(n,a)})})},u=function(n){t(e.filtersGroupSelector).children().each(function(){t(this).click(function(){t(e.filtersGroupSelector).children().removeClass("selected"),window.location.hash=t(this).data("filter");var r=[];r.push("."+t(this).data("filter")),t(this).addClass("selected");var a=i;r.length>0&&(a=s(r)),o(n,a)})}),a(n),t(e.filtersGroupSelector).children().removeClass("selected"),t(".filters li[data-filter="+window.location.hash.replace("#","")+"]").addClass("selected")};return this.each(function(){var i=t(this);r(i),"list"===e.selectorType?u(i):l(i)})}}(window.jQuery);